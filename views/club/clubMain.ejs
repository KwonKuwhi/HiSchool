<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>검색 및 해시태그</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/club.css">
</head>

<body>
    <%- include('../component/header')%>
  <div class="search-container">
    <input type="search" class="search-bar" placeholder="검색">
  </div>

  <div class="hashtags">
    <!-- 해시태그 예시입니다. 클릭 이벤트와 백엔드 연결을 위한 클래스를 추가할 수 있습니다. -->
    <span class="hashtag">#거리 30Km 이내</span>
    <span class="hashtag">#분야 과학</span>
    <span class="hashtag">#지역 서울 마포구</span>
  </div>

  <!-- 여기에 더 많은 콘텐츠를 추가할 수 있습니다. -->

  <!-- 모달 팝업의 HTML 구조 (숨겨져 있으며, 클릭 시 활성화 될 수 있도록) -->
  <!-- <div class="modal" id="codeModal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>코드를 입력하세요</p>
      <input type="text" placeholder="코드 입력">
      <button type="button">확인</button>
    </div>
  </div> -->

  <% for(let i=0; i<data.length;i++){ %>
    <div class="list" onclick="showDetail(event)" >
      <div style="display: inline;"  class="club_id"><%=data[i].club_id%></div>
      <div class="list-title" ><%= data[i].club_name%></div>
      <div class="list-content"><%=data[i].keyword%></div>
  </div>
    <% } %>

    

  <div class="createClub" onclick="createClub()">+</div>

  <script>
    // JavaScript 예시 (모달 창을 여닫는 기능)
    // document.querySelector('.user-icon').addEventListener('click', function () {
    //   document.getElementById('codeModal').classList.add('active');
    // });

    // document.querySelector('.modal .close').addEventListener('click', function () {
    //   document.getElementById('codeModal').classList.remove('active');
    // });

    function showDetail(event) {
      console.log(event.target)
    // Check if the clicked element has the class "list-title"
    if (event.target.classList.contains('club_id')) {
      // Get the text content of the clicked "list-title" div
      const club_id = event.target.textContent;
      
      // Log the text content to the console
      console.log(club_id);
      window.location.href=`/clubDetail/${club_id}`
      
    }
  }
  function createClub(){
    window.location.href='/createClub';
  }
  </script>
</body>

</html>